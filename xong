-- ğŸŒ¸ Auto Loader (2 user version + global scripts)
local Players = game:GetService("Players")
local p = Players.LocalPlayer
local username = p and p.Name or "Unknown"

-- CÃ¡c script luÃ´n cháº¡y cho má»i acc (global)
local globalScripts = {
	"https://raw.githubusercontent.com/anhhien98nd/REJOIN/refs/heads/main/spamm2-shield1",
	"https://raw.githubusercontent.com/anhhien98nd/REJOIN/refs/heads/main/spamm1%2Bshield2",
	"https://raw.githubusercontent.com/anhhien98nd/REJOIN/refs/heads/main/tp1-tp2",
}

-- Danh sÃ¡ch ngÆ°á»i Ä‘Æ°á»£c phÃ©p & script tÆ°Æ¡ng á»©ng (nhá»¯ng script riÃªng cho acc)
local userScripts = {
	["ikkopolconloli"] = {
		"https://raw.githubusercontent.com/anhhien98nd/REJOIN/refs/heads/main/--tp%20c%E1%BB%95ng%202.txt",
		"https://raw.githubusercontent.com/anhhien98nd/REJOIN/refs/heads/main/--lock%20v%E1%BB%8B%20tr%C3%AD%202.txt",
		"https://raw.githubusercontent.com/anhhien98nd/REJOIN/refs/heads/main/chuot",
		"https://raw.githubusercontent.com/anhhien98nd/REJOIN/refs/heads/main/reset-player",
		"https://raw.githubusercontent.com/anhhien98nd/REJOIN/refs/heads/main/rejoin.txt"
	},

	["vukuvuo89"] = {
		"https://raw.githubusercontent.com/anhhien98nd/REJOIN/refs/heads/main/--lock%20v%E1%BB%8B%20tr%C3%AD%201.txt"
	}
}

-- HÃ m load script an toÃ n
local function safeLoad(url)
	task.spawn(function()
		local ok, err = pcall(function()
			-- thá»­ táº£i, má»™t sá»‘ executor yÃªu cáº§u timeout/headers nhÆ°ng game:HttpGet thÆ°á»ng ok
			local source = game:HttpGet(url)
			if source and #source > 10 then
				print(("âš™ï¸ Äang cháº¡y script: %s"):format(url))
				-- compile & run in pcall to avoid crash
				local fnOk, fnOrErr = pcall(function()
					local f, compileErr = loadstring and loadstring(source) or load(source)
					if not f then
						error("compile error: "..tostring(compileErr))
					end
					pcall(f)
				end)
				if not fnOk then
					error(fnOrErr)
				end
			else
				warn(("âš ï¸ Script rá»—ng hoáº·c khÃ´ng táº£i Ä‘Æ°á»£c: %s"):format(url))
			end
		end)
		if not ok then
			warn(("âŒ Lá»—i khi cháº¡y script %s : %s"):format(tostring(url), tostring(err)))
		end
	end)
end

-- 1) LuÃ´n cháº¡y cÃ¡c global scripts (cho má»i tÃ i khoáº£n)
for _, url in ipairs(globalScripts) do
	safeLoad(url)
	-- nháº¹ time gap Ä‘á»ƒ giáº£m Ã¡p lá»±c HTTP & trÃ¡nh quÃ¡ táº£i
	task.wait(0.6)
end

-- 2) Náº¿u acc thuá»™c list, cháº¡y cÃ¡c script riÃªng cho acc Ä‘Ã³
if userScripts[username] then
	print(("âœ… ÄÄƒng nháº­p há»£p lá»‡: %s â€” táº£i script riÃªng..."):format(username))
	for _, url in ipairs(userScripts[username]) do
		safeLoad(url)
		task.wait(0.6)
	end
	print(("âœ¨ HoÃ n táº¥t táº£i toÃ n bá»™ script cho acc: %s"):format(username))
else
	print(("ğŸ”” TÃ i khoáº£n %s khÃ´ng náº±m trong danh sÃ¡ch riÃªng â€” chá»‰ cháº¡y global scripts."):format(username))
end
