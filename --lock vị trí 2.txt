-- ğŸŒ¸ Auto TP1 Lock 3 Giai Äoáº¡n
local Players = game:GetService("Players")
local p = Players.LocalPlayer
local STATE = { tp1 = false }

-- âš™ï¸ HÃ m Lock vá»‹ trÃ­
local function startLock(pos)
    STATE.tp1 = true
    print("[AUTO] ğŸ”’ Báº¯t Ä‘áº§u lock vá»‹ trÃ­ táº¡i:", pos)

    local look
    pcall(function()
        look = p.Character and p.Character:FindFirstChild("HumanoidRootPart")
            and p.Character.HumanoidRootPart.CFrame.LookVector
    end)

    task.spawn(function()
        while STATE.tp1 do
            task.wait()
            local c = p.Character
            if c then
                local hrp = c:FindFirstChild("HumanoidRootPart")
                if hrp then
                    hrp.Velocity = Vector3.zero
                    if look then
                        hrp.CFrame = CFrame.new(pos, pos + look)
                    else
                        hrp.CFrame = CFrame.new(pos)
                    end
                end
            end
        end
    end)
end

-- âš™ï¸ HÃ m táº¯t lock
local function stopLock()
    if STATE.tp1 then
        STATE.tp1 = false
        print("[AUTO] ğŸ”“ Dá»«ng lock vá»‹ trÃ­.")
    end
end

task.spawn(function()
    local pos = Vector3.new(42.29, 3.63, -132.49)

    -- ğŸ•’ Giai Ä‘oáº¡n 1: báº­t lÃºc 10s, táº¯t lÃºc 77s
    task.wait(10)
    startLock(pos)
    task.wait(77 - 10)
    stopLock()
    print("[AUTO] âœ… Káº¿t thÃºc giai Ä‘oáº¡n 1 táº¡i 77s")

    -- ğŸ•’ Giai Ä‘oáº¡n 2: báº­t láº¡i lÃºc 89s, táº¯t lÃºc 151s
    task.wait(89 - 77)
    startLock(pos)
    print("[AUTO] ğŸ” Báº­t láº¡i TP1 Lock táº¡i giÃ¢y 89")
    task.wait(151 - 89)
    stopLock()
    print("[AUTO] âœ… Táº¯t TP1 Lock láº§n 2 táº¡i giÃ¢y 151")

    -- ğŸ•’ Giai Ä‘oáº¡n 3: báº­t lÃºc 176s, táº¯t lÃºc 228s
    task.wait(176 - 151)
    startLock(pos)
    print("[AUTO] ğŸ” Báº­t láº¡i TP1 Lock táº¡i giÃ¢y 176")
    task.wait(228 - 176)
    stopLock()
    print("[AUTO] âœ… Táº¯t TP1 Lock láº§n 3 táº¡i giÃ¢y 228")
end)
